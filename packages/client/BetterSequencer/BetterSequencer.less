@import "../colors.less";
@import "../AppCommon.less";

@rightRadius: {
	border-bottom-right-radius: 8px;
}

@noteNameFontSize: 16px;

.betterSequencer {
	.controls {
		display: flex;

		.buttons {
			width: 32px;
			display: flex;
			flex-direction: column;
			justify-content: space-evenly;
			color: @defaultGray;
		}

		.knobs, .zoomPanKnobs {
			display: flex;
			flex-direction: column;
			justify-content: space-evenly;
		}
	}

	.sideNotes {
		position: relative;

		.transformable {
			width: 100%;
			display: flex;
			flex-direction: column-reverse;
			
			.row {
				// border-bottom: 1px solid @panelGray;
				// box-sizing: border-box;
				// margin: 2px 0;
				margin-bottom: 1px;
				
				&.white {
					background-color: @defaultGray;

					&.animate-off {
						.colorFadeAnimation(BSKeyFadeWhite, currentColor, @defaultGray);
					}
				}

				&.black {
					background-color: @panelGrayDark;

					&.animate-off {
						.colorFadeAnimation(BSKeyFadeBlack, currentColor,  @panelGrayDark);
					}
				}

				&.animate-on {
					background-color: currentColor;
				}

				.rowLabel {
					.largeFont();
					font-size: @noteNameFontSize;
					display: flex;
					align-items: center;
					height: 100%;
					opacity: 0;
					padding-left: 4px;

					&:hover {
						opacity: 1;
					}
				}
			}
		}
	}

	.editor {
		flex-grow: 1;
		position: relative;
		overflow: hidden;

		.translatable {
			width: 100%;
			height: 100%;
		}

		.rows {
			position: absolute;
			width: 100%;
			height: 100%;
			@rightRadius();
			overflow: hidden;
			z-index: 6;

			.scalable {
				width: 100%;
				// height: 100%;
				display: flex;
				flex-direction: column-reverse;
				// will-change: transform;

				.row {
					border-bottom: 1px solid @panelGray;
					box-sizing: border-box;
				}
			}
		}

		.columns {
			position: absolute;
			width: 100%;
			height: 100%;
			@rightRadius();
			overflow: hidden;
			z-index: 8;

			.timeBar {
				position: absolute;
				top: 0;
				height: 100%;
				width: 1px;
				background-color: @defaultGray;
			}

			.scalable {
				display: flex;
				width: 100%;
				height: 100%;
				white-space: nowrap;
				// will-change: transform;

				.column {
					height: 100%;
					display: inline-block;
					color: #4446;

					&:nth-child(4n+1) {
						color: #6666;
					}

					&:nth-child(8n+1), &:nth-child(8n+2), &:nth-child(8n+3), &:nth-child(8n+4) {
						background-color: hsla(0, 0%, 0%, 0.08);
					}

					.line {
						background-color: currentColor;
						width: 1px;
						height: 100%;
					}
				}

				.farRightColumn {
					width: auto;
					height: 100%;
					background-color: hsla(0, 0%, 0%, 0.24);
					display: inline-block;
					flex-grow: 1;
				}
			}
		}

		.notes {
			position: absolute;
			width: 100%;
			height: 100%;
			@rightRadius();
			overflow: hidden;
			z-index: 10;

			&.resizing-left {
				@leftBracketCursor();
			}

			&.resizing-right {
				@rightBracketCursor();
			}

			&.moving-true {
				@grabbingCursor();
			}

			&.cloning-true {
				@grabbingCursor();
			}

			.ctrl-true.alt-true & {
				@grabCursor();
			}

			.scalable {
				position: relative;
				width: 100%;
				height: 100%;
				white-space: nowrap;
				// will-change: transform;

				.note {
					position: absolute;
					background-color: currentColor;
					border-radius: 1px;
					border: 2px solid @panelGrayDark;
					box-sizing: border-box;
					margin-bottom: 1px;
					min-width: 4px;
					// border-top: none;
  				// border-bottom: none;

					&.selected-true {
						border-color: @defaultGray;
					}

					.noteLabel {
						.largeFont();
						font-size: @noteNameFontSize;
						color: @panelGrayDark;
						text-align: left;
						line-height: normal;
						padding-left: 8px;
						height: 104%;
						display: flex;
						align-items: center;
						pointer-events: none;
						overflow: hidden;
						font-weight: 600;
					}
				}
			}
		}
	}
}
